{extend name="public/h5_base" /}
{block name="container"}
<div class="swiper-container" id="container">
    <div class="swiper-wrapper">
        <div class="swiper-slide blue-slide"><p class="ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="0.3s">这一生走过</p></div>
        <div class="swiper-slide red-slide"><p class="ani" swiper-animate-effect="bounceInLeft" swiper-animate-duration="0.5s" swiper-animate-delay="0.3s">内容</p></div>
        <div class="swiper-slide orange-slide">
            <div class="ani" style="background-color: #999999;" swiper-animate-effect="rollIn" swiper-animate-duration="1.5s" swiper-animate-delay="0.3s">
                <p style="font-size: 1.5rem;" class="ani" swiper-animate-effect="rotateIn" swiper-animate-duration="1.5s" swiper-animate-delay="2s">我的照片</p>
            </div>
        </div>
    </div>
</div>
</div>
{/block}
{block name="script"}
<script>
    var mySwiper = new Swiper('.swiper-container',{
        direction : 'vertical',
        on:{
            init: function(){
                swiperAnimateCache(this); //隐藏动画元素
                this.emit('slideChangeTransitionEnd');//在初始化时触发一次slideChangeTransitionEnd事件
            },
            slideChangeTransitionEnd: function(){
                swiperAnimate(this); //每个slide切换结束时运行当前slide动画
                this.slides.eq(this.activeIndex).find('.ani').removeClass('ani');//动画只展示一次
            }
        }
    });
    document.getElementById("audio").play();
</script>
{/block}

